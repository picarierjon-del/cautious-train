<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Gestionale SmartApp</title>
<meta name="theme-color" content="#0b1223">
<link rel="manifest" href="manifest.json">
<style>
  /* Tailwind-like mini CSS o tuo stile personalizzato */
  body{margin:0;font-family:system-ui;background:#0b1223;color:#fff;display:flex;flex-direction:column;height:100vh}
  header,footer{background:#0f172a;padding:10px;display:flex;align-items:center;justify-content:space-between}
  main{flex:1;display:grid;grid-template-columns:300px 1fr}
  aside{background:#111827;padding:10px;overflow:auto}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px;padding:8px}
  button{border:none;border-radius:10px;padding:12px;color:#fff;font-weight:bold;cursor:pointer}
</style>
</head>
<body>
<header>
  <strong>üßæ Gestionale Smart</strong>
  <button @click="openSettings">‚öôÔ∏è</button>
</header>

<main v-scope="App">
  <aside>
    <h3>Ordine</h3>
    <div v-for="(item,i) in cart" :key="i">
      {{item.qty}}√ó {{item.name}} ‚Äì ‚Ç¨{{item.price}}
      <button @click="remove(i)">‚úñ</button>
    </div>
    <h4>Totale: ‚Ç¨{{total}}</h4>
  </aside>

  <section>
    <div style="padding:8px">
      <input v-model="search" placeholder="üîç Cerca‚Ä¶" style="width:100%;padding:6px;border-radius:8px">
    </div>
    <div class="grid">
      <button v-for="p in filteredProducts" :style="{background:p.color}" @click="add(p)">
        {{p.label}}<br>‚Ç¨{{p.price}}
      </button>
    </div>
  </section>
</main>

<footer>
  <button v-for="g in bottomGroups" :style="{background:g.color}" @click="showGroup(g)">
    {{g.label}}
  </button>
</footer>

<script src="https://unpkg.com/petite-vue"></script>
<script>
function App(){
  return {
    search:'',
    currentGroup:null,
    cart:[],
    configTop:[
      {label:'Pizze',color:'#ef4444',items:[{label:'Margherita',price:6,color:'#ef4444'}]},
      {label:'Bibite',color:'#3b82f6',items:[{label:'Acqua',price:1,color:'#3b82f6'}]}
    ],
    configBottom:[
      {label:'Pi√π',color:'#22c55e',items:[{label:'Mozzarella',price:1,color:'#22c55e'}]},
      {label:'Senza',color:'#6b7280',items:[{label:'Pomodoro',price:0,color:'#6b7280'}]}
    ],
    get products(){ return this.currentGroup?.items || this.configTop.flatMap(g=>g.items) },
    get filteredProducts(){
      return this.products.filter(p=>p.label.toLowerCase().includes(this.search.toLowerCase()));
    },
    get bottomGroups(){ return this.configBottom },
    get total(){ return this.cart.reduce((s,i)=>s+i.price*i.qty,0) },
    add(p){ this.cart.push({...p,qty:1}) },
    remove(i){ this.cart.splice(i,1) },
    showGroup(g){ this.currentGroup=g },
    openSettings(){ alert('Qui puoi aprire un dialog per modificare pulsanti, colori e prezzi') }
  }
}
PetiteVue.createApp(App).mount()
</script>
</body>
</html>
